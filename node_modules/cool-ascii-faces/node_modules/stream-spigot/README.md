Stream Spigot
=============

[![NPM](https://nodei.co/npm/stream-spigot.png)](https://nodei.co/npm/stream-spigot/)

[![david-dm](https://david-dm.org/brycebaril/node-stream-spigot.png)](https://david-dm.org/brycebaril/node-stream-spigot/)
[![david-dm](https://david-dm.org/brycebaril/node-stream-spigot/dev-status.png)](https://david-dm.org/brycebaril/node-stream-spigot#info=devDependencies/)


Un generador de (streams2) corrientes de lectura mecánica, útil para las pruebas o la conversión de funciones simples en corrientes de lectura mecánica, o simplemente creando corrientes de lectura mecánica sin todo el texto modelo.

```javascript
var spigot = require("stream-spigot")

spigot.array(["ABCDEFG"]).pipe(process.stdout)
// ABCDEFG

spigot.array(["ABC", "DEF", "G"]).pipe(process.stdout)
// same as: (short form)
spigot(["ABC", "DEF", "G"]).pipe(process.stdout)
// ABCDEFG


// Create a stream out of a synchronous generator:
var count = 0
function gen() {
  if (count++ < 5) {
    return {val: count}
  }
}

spigot.sync({objectMode: true}, gen).pipe(...)
/*
{val: 1}
{val: 2}
{val: 3}
{val: 4}
{val: 5}
*/


// Create a more traditional Readable stream:
var source = spigot({objectMode: true}, function () {
  var self = this
  iterator.next(function (err, value) {
    if (err) return self.emit("error", err)
    self.push(value)
  })
})

source.pipe(...)

```

Usage
=====

spigot([options,] _read)
---

Crear una instancia de secuencia de lectura mecánica con el método especificado _read. Su método _read debe seguir la sintaxis de [stream.Readable _read](http://nodejs.org/api/stream.html#stream_readable_read_size_1). (I.e. Esto debería llamarse `this.push(chunk)`)

spigot([options, ], array)
---

Crea una instancia de secuencia de lectura mecánica que emitirá cada miembro de la matriz especificada hasta que se termine. Crea una copia de la matriz dada y la consume - si esto va a causar problemas de memoria, considere la posibilidad de implementar su propia función _read para consumir la matriz .

var Spigot = spigot.ctor([options,], _read)
---

Igual que el anterior, excepto que proporciona un constructor para la clase de lectura mecánica. A continuación, puede crear instancias mediante el uso de cualquiera de `var source = new Spigot()` o `var source = Spigot()`.

var Spigot = spigot.ctor([options,], array)
---

Same as the above except provides a constructor for your Readable class. You can then create instances by using either `var source = new Spigot()` or `var source = Spigot()`.

spigot.array([options, ], array)
---

A manual version of the above to specify an array.


spigot.sync([options,] fn)
------------------------

Create a readable instance providing a synchronous generator function. It will internally wrap your synchronous function as an async function.

Options
-------

Accepts standard [readable-stream](http://npmjs.org/api/stream.html) options.

LICENSE
=======

MIT
